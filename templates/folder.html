{% extends 'base.html' %}

{% block title %}{% if folder_path %}{{ folder_path }}{% else %}Home{% endif %} - Flask Blog{% endblock %}

{% block content %}
<div class="mb-3">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h4 class="m-0">{% if folder_path %}Folder: {{ folder_path }}{% else %}All Notes{% endif %}</h4>
        <a href="{{ url_for('create_note') }}" class="btn btn-primary btn-sm">New Note</a>
    </div>
    
    {% if folder_contents %}
        <div class="list-group">
        {% for item in folder_contents %}
            {% if item.type == 'dir' %}
                <a href="{{ url_for('folder', folder_path=item.path) }}" 
                   class="list-group-item list-group-item-action d-flex align-items-center">
                    <i class="fa fa-folder text-warning me-2"></i>
                    <span>{{ item.display_name }}</span>
                </a>
            {% else %}
                <a href="{{ url_for('note', note_path=item.path) }}" 
                   class="list-group-item list-group-item-action d-flex align-items-center">
                    <i class="fa fa-file-text-o text-secondary me-2"></i>
                    <span>{{ item.display_name }}</span>
                </a>
            {% endif %}
        {% endfor %}
        </div>
    {% else %}
        <p class="text-muted">This folder is empty.</p>
    {% endif %}
</div>
{% endblock %}
